<?xml version="1.0" encoding="UTF-8"?>
<chapter id="details.formats">
<chapterinfo>
  <authorgroup>
    <author
>&Thomas.Baumgart; &Thomas.Baumgart.mail; </author>
  </authorgroup>
  <date
>30 серпня 2014 року</date>
  <releaseinfo
>4.7.01</releaseinfo>
</chapterinfo>

<title
>Формати файлів</title>

<para
>Якщо ви не накажете програмі використовувати <link linkend="details.database"
>реляційну базу даних</link
>, &kmymoney; зберігатиме ваші дані у файлі, назва якого завершуватиметься суфіксом <filename class="extension"
>.kmy</filename
>. Крім того, якщо ви не використовуєте <link linkend="firsttime.launch"
>параметр командного рядка</link
>, за допомогою якого можна вказати програмі файл, який слід завантажити, програма відкриє останній з файлів, з якими ви працювали. Важливо пам’ятати, що &kmymoney; може зберігати ваші фінансові дані у файлах декількох типів. </para>

<para
>У цій главі описано формати, у яких &kmymoney; зберігає дані на постійній основі на пристроях зберігання користувача. Типово, &kmymoney; зберігає свої дані у формі документа XML. Залежно від формату, цей документ XML буде записано <itemizedlist>
  <listitem
><para
>як <link linkend="details.formats.plain"
>звичайний текстовий файл</link
> у кодуванні UTF-8,</para
></listitem>

  <listitem
><para
>як <link linkend="details.formats.compressed"
>стиснутий файл</link
> з використанням стискання GZIP,</para
></listitem>

  <listitem
><para
>як <link linkend="details.formats.encrypted"
>шифрований файл</link
> з використанням шифрування GPG або</para
></listitem>

  <listitem
><para
>як <link linkend="details.formats.anonymous"
>анонімний звичайний текстовий файл</link
>, закодований у UTF-8, але з вилученням всіх ваших особистих даних.</para
></listitem>
</itemizedlist>
</para>

<sect1 id="details.formats.plain">
<title
>Звичайний текстовий файл </title>
<para
>Розміри файлів, збережених у цьому форматі, є найбільшими, оскільки не виконується ніякого стискання. Цей формат не призначено для звичайного користування, його передбачено лише з метою усування вад у програмі та забезпечення можливості зміни файлів вручну. Якщо ви завершите назву файла суфіксом <filename class="extension"
>.xml</filename
>, файл буде збережено саме у цьому форматі. <caution
> <para
>Ми не рекомендуємо звичайним користувачам змінювати файл вручну. Подібні зміни слід вносити, лише якщо ви повністю розумієте внутрішню роботу &kmymoney; або отримали настанови від розробників щодо подібних змін. Будь ласка, не звинувачуйте розробників &kmymoney;, якщо ви самі вручну пошкодите свої дані: ми вас попереджали! </para>
</caution>
</para>
</sect1>

<sect1 id="details.formats.compressed">
<title
>Стиснутий GZIP файл</title>
<para
>Це звичайний формат, який використовується &kmymoney; для збереження даних у файлах з суфіксом назви <filename class="extension"
>.kmy</filename
>. </para>

<note>
  <para
>Якщо було вказано <link linkend="details.formats.encrypted"
>шифрування</link
>, файл буде збережено у зашифрованому вигляді. </para>
</note>

<para
>Якщо ви бажаєте зазирнути всередину стиснутого GZIP файла, перейменуйте його так, щоб назва завершувалася суфіксом <filename class="extension"
>.gz</filename
> (наприклад, <filename
>myfinances.kmy</filename
> слід перейменувати на <filename
>myfinances.kmy.gz</filename
>), потім скористайтеся програмою <command
>gunzip</command
> для розпакування файла і перегляньте його вміст. Вам не потрібно знову стискати ці дані для того, щоб завантажити їх до &kmymoney;, оскільки &kmymoney; може читати і нестиснуті дані. Якщо ж ви знову збережете ці дані, їх знову буде стиснуто. Скористайтеся суфіксом назви <link linkend="details.formats.plain"
>.xml</link
>, щоб наказати програмі зберегти дані у нестиснутому форматі. </para>
</sect1>

<sect1 id="details.formats.encrypted">
<title
>Зашифрований GPG файл</title>
<para
>Використання формату файлів, зашифрованого GPG, є дуже безпечним методом зберігання ваших особистих фінансових даних на вашому пристрої зберігання. Якщо наказати &kmymoney; за допомогою діалогового вікна параметрів зберегти ваші дані зашифрованими, програма зашифрує дані за допомогою GPG і попередньо наданого вами ключа для зберігання. Під час відкриття зашифрованого файла вам слід вказати пароль, потрібний для відкриття вашого сховища ключів. Сам зашифрований файл буде збережено у форматі <emphasis
>захищеного GPG ASCII</emphasis
>. <note
> <para
>Під час шифрування за допомогою GPG відбувається стискання файла, отже додаткове стискання стає непотрібним. </para>
  </note>
</para>

<sect2 id="details.formats.encrypted.gpgkeys">
<title
>Ключі GPG</title>
<para
>Якщо ви ще не робили цього для шифрування вашої електронної пошти, вам слід створити пару ключів для того, щоб скористатися можливістю шифрування &kmymoney; за допомогою GPG. Крім того, у вашій системі має бути встановлено <application
>GPG</application
>. </para>

<para
>Докладні настанови щодо способів створення пари ключів та роботи з нею не є предметом цього підручника. Короткі настанови з цього питання можна знайти за адресою <ulink url="https://www.gnupg.org/documentation/howtos.en.html"
>https://www.gnupg.org/documentation/howtos.en.html</ulink
>. </para>
</sect2>

<sect2 id="details.formats.encrypted.keysettings">
<title
>Встановлення ключів у &kmymoney;</title>
<para
>На сторінці шифрування діалогового вікна параметрів передбачено спадний список, за допомогою якого ви зможете обрати ключ для шифрування та розшифрування. Крім того, буде показано поле для введення тексту, у яке ви можете ввести ідентифікатор ключа, якого немає у спадному списку. У цьому полі ви можете вказати ідентифікатор ключа, адресу електронної пошти, пов’язану з цим ключем, або будь-який інший чинний ідентифікатор ключа GPG. Після введення вами ідентифікатора ключа &kmymoney; перевірить його чинність і покаже зелену позначку, якщо відповідний ключ буде знайдено. <caution
> <para
>Переконайтеся, що у вас є обидва ключі: відкритий і закритий для цього ідентифікатора. Якщо у вас не буде закритого ключа для введеного ідентифікатора, згодом ви не зможете відкрити збережений файл. </para>
  </caution>
</para>
</sect2>

<sect2 id="details.formats.encrypted.recoverkey">
<title
>Ключ відновлення &kmymoney;</title>
<para
>Крім того, на цій сторінці діалогового вікна параметрів ви можете вказати програмі, що слід використовувати додаткове шифрування за допомогою ключа відновлення &kmymoney;. Ви зможете скористатися цим пунктом, якщо відповідний ключ зберігається у вашому сховищі ключів <application
>GPG</application
>. Позначення цього пункту надасть вам змогу відновити ваші дані, навіть якщо ви втратите ваш закритий ключ. Це можна буде зробити, оскільки дані буде зашифровано не лише вашим власним ключем, але і ключем відновлення &kmymoney;. Цей ключ доступний лише обраним розробникам &kmymoney; (на час написання цього підручника лише авторові програми). Термін дії ключа &kmymoney; версії 4.7 збігає 3 січня 2015 року. </para>

<para
>За звичайних умов ви відкриватимете/зберігатимете/закриватимете ваші файли у звичайному режимі. У критичному випадку втрати вашого ключа ви зможете зв’язатися з одним з розробників, який має доступ до ключа відновлення &kmymoney; і попросити допомоги у відновленні ваших даних. Зв’язатися з розробниками можна за допомогою надсилання повідомлення електронної пошти до списку листування розробників &kmymoney; за адресою &devlist;. </para>
</sect2>
</sect1>

<sect1 id="details.formats.anonymous">
<title
>Анонімний файл</title>
<para
>Цей формат не призначено для звичайного зберігання даних. Він підтримується для того, щоб у разі виникнення проблем ви могли надіслати команді розробників &kmymoney; ваш файл без відкриття жодних ваших фінансових конфіденційних даних. Наприклад, при збереженні буде змінено назву установи, назву рахунку, платника і назви категорій на рядки у форматі «I000001» або «A000001». Подібну операцію буде виконано над усіма даними, зокрема номерами рахунків. Крім того, суми операцій буде змінено на випадкові. </para>

<para
>Якщо вас про це попросять розробники, скористайтеся пунктом меню <guimenuitem
>Зберегти як...</guimenuitem
> для збереження даних у анонімному форматі (виберіть фільтр <literal role="filter"
>Анонімні файли</literal
>). Суфікс назви файла буде автоматично змінено на <filename class="extension"
>.anon.xml</filename
>. </para>

<para
>Щоб переконатися, що після заміни даних на анонімні проблеми не зникли, спробуйте завантажити до програми анонімний файл і відтворити проблему. Якщо проблема відтворюється, надішліть файл до списку листування розробників за адресою &devlist; для подальшого вивчення. Якщо проблема зникає після завантаження анонімного файла… що ж доведеться шукати її причину у якийсь інший спосіб. </para>
</sect1>
</chapter>

